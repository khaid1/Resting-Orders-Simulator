<!DOCTYPE html>
<html lang="en">
<head>
    <h1> Iress UAT - Resting orders simulator </h1>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <py-env>
    </py-env>
    <title>Document</title>


</head>
<body>

    <label>Account:</label><br>
    <input type = "text" id="myText1"><br>

    <label>SecCode:</label><br>
    <input type = "text" id = "myText2"><br>

    <label>Exchange:</label><br>
    <input type = "text" id = "myText3"><br>

    <label>Life:</label><br>
    <input type = "text" id = "myText4"><br>

    <label>Dest:</label><br>
    <input type = "text" id = "myText5"><br>
    
    <label>Side:</label><br>
    <input type = "text" id = "myText6"><br>
    
    <label>Vol:</label><br>
    <input type = "text" id = "myText7"><br>

    <label>Price:</label><br>
    <input type = "text" id = "myText8"><br>

    <label>Spread:</label><br>
    <input type = "text" id = "myText9"><br>

    <label>Price Step:</label><br>
    <input type = "text" id = "myText10"><br>

    <button id="myButton1" pys-onclick="my_function"> Submit </button>

    <p id="text-output"></p>
    
    <py-script> 


    

    def my_function(a): 

        Account=Element("myText1").element.value 
        console.log(Account)

        SecCode=Element("myText2").element.value 
        console.log(SecCode)

        Exchange=Element("myText3").element.value 
        console.log(Exchange)

        Life=Element("myText4").element.value 
        console.log(Life)

        Dest=Element("myText5").element.value 
        console.log(Dest)

        Side=Element("myText6").element.value 
        console.log(Side)

        Vol=Element("myText7").element.value 
        console.log(Vol)

        Price=Element("myText8").element.value 
        console.log(Price)

        Spread=Element("myText9").element.value 
        console.log(Spread)

        PriceStep=Element("myText9").element.value 
        console.log(PriceStep)

        import urllib.request

        # set the API endpoint URL
        url = "http://127.0.0.1:51234/wsdl.aspx?un=admin&cp=iress&svc=IRESS&svr=&pw="

        # make an HTTP GET request to the API endpoint
        response = urllib.request.urlopen(url)

        # read the response from the API
        data = response.read()

        # print the response from the API
        print(data)



    </py-script>
    
</body>
</html>
